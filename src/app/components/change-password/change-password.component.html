<form>
    <div class="container">
        <br>
        <div class="row justify-content-md-center">
            <h1>Cambiar Contraseña</h1>
        </div>
        <br>
        <div class="row justify-content-md-center">
            <div class="col-md-8">
                <mat-form-field>
                    <input matInput placeholder="Contraseña Actual" [type]="oldHide ? 'password' : 'text'"
                           [(ngModel)]="changePassword.OldPassword" name="oldPassword"
                           [formControl]="form.controls['oldPassword']">
                    <mat-icon matSuffix (click)="oldHide = !oldHide">{{oldHide ? 'visibility' : 'visibility_off'}}
                    </mat-icon>
                    <mat-error *ngIf="form.controls['oldPassword'].hasError('required')">
                        Contraseña Actual es <strong>Requerida</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-md-center">
            <div class="col-md-8">
                <small style="color: gray">La contraseña debe tener al menos 6 carácteres, una letra mayúscula, una
                    minúscula y
                    un número.
                </small>
                <mat-form-field>
                    <input matInput placeholder="Nueva Contraseña" [type]="newHide ? 'password' : 'text'"
                           [(ngModel)]="changePassword.NewPassword" name="newPassword"
                           [formControl]="form.controls['password']">
                    <mat-icon matSuffix (click)="newHide = !newHide">{{newHide ? 'visibility' : 'visibility_off'}}
                    </mat-icon>
                    <mat-error *ngIf="form.controls['password'].hasError('required')">
                        Nueva Contraseña es <strong>Requerida</strong>
                    </mat-error>
                    <mat-error *ngIf="form.controls['password'].hasError('pattern')">
                        La nueva contraseña debe tener al menos 6 carácteres, una letra mayúscula, una minúscula y un
                        número.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-md-center">
            <div class="col-md-8">
                <mat-form-field>
                    <input matInput placeholder="Confirmar Nueva Contraseña" [type]="confirmHide ? 'password' : 'text'"
                           [(ngModel)]="changePassword.ConfirmPassword" name="confirmNewPassword"
                           [formControl]="form.controls['verifyPassword']">
                    <mat-icon matSuffix (click)="confirmHide = !confirmHide">{{confirmHide ? 'visibility' :
                        'visibility_off'}}
                    </mat-icon>
                    <mat-error *ngIf="form.controls['verifyPassword'].hasError('required')">
                        Contraseña es <strong>Requerida</strong>
                    </mat-error>
                    <mat-error *ngIf="form.controls['verifyPassword'].errors?.MatchPassword">
                        Las contraseñas deben ser <strong>Iguales</strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <br>
        <div class="row justify-content-md-center">
            <div class="col-md-4">
                <button mat-raised-button color="primary" style="width: 100%" (click)="changePwd()"
                    [disabled]="!isPromiseDone || form.invalid">
                    <mat-icon>save</mat-icon>
                    Guardar
                </button>
            </div>
        </div>
        <div class="row justify-content-md-center" *ngIf="!isPromiseDone">
            <mat-spinner></mat-spinner>
        </div>
    </div>
</form>